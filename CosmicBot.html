<!DOCTYPE html>
<html lang="en">
<head>
     <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z2EF7FZMR2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z2EF7FZMR2');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <!-- Meta Tags -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Preconnect for Faster Resource Loading -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <title>CosmicBot</title>
    <link rel="stylesheet" href="navbar.css"></link>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, rgba(43, 25, 57, 1) 0%, rgba(83, 26, 126, 1) 50%, rgba(43, 25, 57, 1) 100%);
            color: #fff;
            min-height: 100vh;
            cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='40' height='48' viewport='0 0 100 100' style='fill:black;font-size:24px;'><text y='50%'>üöÄ</text></svg>") 16 0, auto;
            padding-top: 80px;
        }
        a,button{
            cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='40' height='48' viewport='0 0 100 100' style='fill:black;font-size:24px;'><text y='50%'>‚òÑÔ∏è</text></svg>") 16 0, auto;

        }
        a:hover,button:hover {
        cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='40' height='48' viewport='0 0 100 100' style='fill:black;font-size:24px;'><text y='50%'>‚òÑÔ∏è</text></svg>") 16 0, auto;
}
        .chatbot-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 20px;
            background: rgba(27, 27, 47, 0.9);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        #chat-output {
            height: 500px;
            overflow-y: auto;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .message {
            margin: 10px 0;
            padding: 10px 15px;
            border-radius: 15px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .user-message {
            background: rgba(145, 71, 255, 0.2);
            margin-left: auto;
        }

        .bot-message {
            background: rgba(255, 255, 255, 0.1);
            margin-right: auto;
        }

        #chat-input-area {
            display: flex;
            gap: 10px;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 15px;
        }

        #chat-input {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            font-size: 16px;
        }

        #send-btn {
            padding: 12px 30px;
            background: #9147ff;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #send-btn:hover {
            background: #7c3adf;
            transform: translateY(-2px);
        }

        .nasa-image {
            max-width: 100%;
            border-radius: 10px;
            margin: 10px 0;
        }

        /* Custom scrollbar */
        #chat-output::-webkit-scrollbar {
            width: 8px;
        }

        #chat-output::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        #chat-output::-webkit-scrollbar-thumb {
            background: #9147ff;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="index.html">
                <span class="me-2">üöÄ</span>
                <span>Cosmic Minds</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="courses.html">Courses</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            Resources
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="Planets.html">Cosmic Circuit</a></li>
                            <li><a class="dropdown-item" href="Cosmic Impact.html">Cosmic Impact</a></li>
                            <li><a class="dropdown-item" href="quiz start.html">Cosmic Challenge</a></li>
                            <li><a class="dropdown-item" href="news.html">Cosmic Star Gazette</a></li>
                            <li><a class="dropdown-item" href="CosmicBot.html">CosmicBot</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </nav>

    <div class="chatbot-container">
        <div id="chat-output"></div>
        <div id="chat-input-area">
            <input id="chat-input" type="text" placeholder="Ask me about space, planets, or request a NASA image...">
            <button id="send-btn">Send</button>
        </div>
    </div>

    <script>
        const responses = {
            "sun": {
                keywords: ["sun", "solar"],
                response: "The Sun is our closest star and the center of our solar system. It's about 4.6 billion years old and provides the energy that sustains life on Earth through nuclear fusion reactions in its core."
            },
            "mars": {
                keywords: ["mars", "red planet"],
                response: "Mars, often called the Red Planet, is the fourth planet from the Sun. It's known for its reddish appearance due to iron oxide (rust) on its surface. Mars has two moons, polar ice caps, and the largest known volcano in the solar system, Olympus Mons."
            },
            "black hole": {
                keywords: ["black hole", "blackhole"],
                response: "A black hole is a region of spacetime where gravity is so strong that nothing, not even light, can escape from it. They form when massive stars die and collapse under their own gravity. At their center lies a singularity, where the laws of physics as we know them break down."
            },
            "galaxy": {
                keywords: ["galaxy", "galaxies"],
                response: "A galaxy is a massive collection of stars, gas, dust, and dark matter held together by gravity. Our galaxy, the Milky Way, contains hundreds of billions of stars and is part of a larger group called the Local Group."
            },
            "planets": {
                keywords: ["planets", "solar system"],
                response: "Our solar system has eight planets: Mercury, Venus, Earth, and Mars (the rocky planets), followed by Jupiter, Saturn, Uranus, and Neptune (the gas giants). Each planet has unique characteristics and conditions that make it distinct from the others."
            }
        };

        const getBotResponse = (userInput) => {
            userInput = userInput.toLowerCase();
            
            for (const key in responses) {
                if (responses[key].keywords.some(keyword => userInput.includes(keyword))) {
                    return responses[key].response;
                }
            }
            
            return "I'm still learning about space! Try asking about the Sun, Mars, black holes, galaxies, or our solar system's planets. You can also type 'show me a nasa image' to see NASA's Astronomy Picture of the Day.";
        };

        const addMessage = (message, isUser) => {
            const chatOutput = document.getElementById('chat-output');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
            messageDiv.textContent = message;
            chatOutput.appendChild(messageDiv);
            chatOutput.scrollTop = chatOutput.scrollHeight;
        };

        const handleUserInput = async () => {
            const userInput = document.getElementById('chat-input').value.trim();
            if (!userInput) return;

            addMessage(userInput, true);
            document.getElementById('chat-input').value = '';

            if (userInput.toLowerCase() === "show me a nasa image") {
                try {
                    const apiKey = "GfvApEEsNKBsQ6UUBsqJIH3FbsYW3sqmbTUqVr9m";
                    const response = await fetch(`https://api.nasa.gov/planetary/apod?api_key=${apiKey}`);
                    if (!response.ok) throw new Error("Failed to fetch NASA data");
                    const data = await response.json();
                    
                    const botResponseDiv = document.createElement('div');
                    botResponseDiv.className = 'message bot-message';
                    botResponseDiv.innerHTML = `
                        <p>Here's NASA's Astronomy Picture of the Day:</p>
                        <img src="${data.url}" alt="${data.title}" class="nasa-image">
                        <p><strong>${data.title}</strong></p>
                        <p>${data.explanation}</p>
                    `;
                    document.getElementById('chat-output').appendChild(botResponseDiv);
                } catch (error) {
                    addMessage("Sorry, I couldn't fetch the NASA image. Please try again later.", false);
                }
            } else {
                const botResponse = getBotResponse(userInput);
                addMessage(botResponse, false);
            }
        };

        document.getElementById('send-btn').addEventListener('click', handleUserInput);
        document.getElementById('chat-input').addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                handleUserInput();
            }
        });

        // Welcome message
        window.onload = () => {
            addMessage("Hello! I'm COSMICA your space exploration assistant. Ask me about the Sun, Mars, black holes, galaxies, or our solar system's planets. You can also type 'show me a nasa image' to see NASA's Astronomy Picture of the Day!", false);
        };
    </script>
</body>
</html>